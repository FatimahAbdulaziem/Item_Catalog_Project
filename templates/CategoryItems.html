<!DOCTYPE html>
<html lang="en">

    <head>
    
        <title>Computers Catalog App</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
         
    </head>

    <body>
    
        <script> var x = true; </script>
        
        <div class="container-fluid" style="background-color: DarkSlateGray; height: 150px; " >
            <div class="container-fluid">
                <div class="row" >
                    <div class="col-sm-6">
                        </br></br>
                        <h1 style="font-family:Apple Chancery, cursive; font-style: italic; color:white"><b> Item Catalog </b></h1>
                    </div>
                    <div class="col-sm-6" style="text-align: right;">
                        </br></br>
                        <button class="btn btn-light btn-lg" id="logButton" onclick="RedirectToLoginlogout('{{Isloggedin}}')"></button>                         
                    </div>                         
                </div>
            </div>
        </div>

        <div class = 'flash'>
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-success"> <strong> {{ message }} </strong> </div>
                    {% endfor %}        
                {% endif %}
            {% endwith %}
        </div>

        </br>

        {% if Isloggedin %}
            <script> document.getElementById("logButton").innerHTML = "logout"; </script>
        {% else %}
            <script> document.getElementById("logButton").innerHTML = "login"; </script>
        {% endif %}

        <script>
            function RedirectToLoginlogout(x){
                if (x == "True"){
                    window.location.href = "/gdisconnect";
                }else{
                    window.location.href = "/login";}               
            }
        </script>
        
          
        <div class="container-fluid"><a href='{{url_for('showCatalog')}}' class="btn btn-info btn-lg"> Back to Catalog</a></div>

        <script>
            function GotoHome(){
                window.location.href = "/computer_catalog";
            }
        </script>

        </br></br>

        <h1  class="text-info" style="text-align: center;">{{Category.name}}</h1>
        
        </br></br>

        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-6" style="text-align: center;">
                {% if IsCreator %}
                    <a href='{{url_for('addNewItem',category_id=Category.id)}}'>Add New Item</a> &ensp;&ensp;| &ensp;&ensp;
                {% endif %}
                <a href='{{url_for('CategoryItemsJSON',category_id=Category.id)}}' > Get Items as JSON </a>
            </div>
            <div class="col-sm-3"></div>
        </div>

        </br></br></br>
        
        <div class="row">
            <div class="col-sm-3" style="text-align: center;" ><b class="text-info">Tablets</b></div>
            <div class="col-sm-3" style="text-align: center;"><b class="text-info">Laptops</b></div>
            <div class="col-sm-3" style="text-align: center;"><b class="text-info">2 in 1 Laptops</b></div>
            <div class="col-sm-3" style="text-align: center;"><b class="text-info">Desktop Computers</b></div>
        </div>

        </br></br>
        <div class="container-fluid">
            <div class="row">        
                <div class="col-sm-3" >
                
                    {% for item in Items %}
                        {% if item.computer_type == "Tablet" %}
                            <div class="card">
                                <div class="card-header"><b>{{item.name}}</b></div>
                                <div class="card-body">
                                    <p><b>Computer Type :</b> {{item.computer_type}} </p>
                                    <p><b>Description :</b></br><textarea rows="4" cols="43" name="Description" readonly>{{item.description}}</textarea>
                                </div>
                                <div class="card-footer">
                                    <a href='{{url_for('ItemJSON', category_id=Category.id, item_id=item.id)}}'  class="card-link">Get Item as JSON</a> 
                                    {% if IsCreator %}
                                        <a href='{{url_for('editItem', category_id=Category.id, item_id=item.id)}}'  class="card-link">Edit</a> 
                                        <a href='{{url_for('deleteItem', category_id=Category.id, item_id= item.id)}}'  class="card-link">Delete</a>
                                    {% endif %}                                    
                                </div>  
                            </div>
                            </br>
                        {% endif %}
                    {% endfor %}

                </div>
                <div class="col-sm-3" >
                
                    {% for item in Items %}
                        {% if item.computer_type == "Laptop" %}
                            <div class="card">
                                <div class="card-header"><b>{{item.name}}</b></div>
                                <div class="card-body">
                                    <p><b>Computer Type :</b> {{item.computer_type}} </p>
                                    <p><b>Description :</b></br><textarea rows="4" cols="43" name="Description" readonly>{{item.description}}</textarea>
                                </div>
                                <div class="card-footer">
                                    <a href='{{url_for('ItemJSON', category_id=Category.id, item_id=item.id)}}'  class="card-link">Get Item as JSON</a> 
                                    {% if IsCreator %}
                                        <a href='{{url_for('editItem', category_id=Category.id, item_id=item.id)}}'  class="card-link">Edit</a> 
                                        <a href='{{url_for('deleteItem', category_id=Category.id, item_id= item.id)}}'  class="card-link">Delete</a>
                                    {% endif %}                                    
                                </div>  
                            </div>
                            </br>
                        {% endif %}
                    {% endfor %}

                </div>
                <div class="col-sm-3" >
                
                    {% for item in Items %}
                        {% if item.computer_type == "2 in 1 Laptop" %}
                            <div class="card">
                                <div class="card-header"><b>{{item.name}}</b></div>
                                <div class="card-body">
                                    <p><b>Computer Type :</b> {{item.computer_type}} </p>
                                    <p><b>Description :</b></br><textarea rows="4" cols="43" name="Description" readonly>{{item.description}}</textarea>
                                </div>
                                <div class="card-footer">
                                    <a href='{{url_for('ItemJSON', category_id=Category.id, item_id=item.id)}}'  class="card-link">Get Item as JSON</a> 
                                    {% if IsCreator %}
                                        <a href='{{url_for('editItem', category_id=Category.id, item_id=item.id)}}'  class="card-link">Edit</a> 
                                        <a href='{{url_for('deleteItem', category_id=Category.id, item_id= item.id)}}'  class="card-link">Delete</a>
                                    {% endif %}                                    
                                </div>  
                            </div>
                            </br>
                        {% endif %}
                    {% endfor %}

                </div>
                <div class="col-sm-3" >
                
                    {% for item in Items %}
                        {% if item.computer_type == "Desktop Computer" %}
                            <div class="card">
                                <div class="card-header"><b>{{item.name}}</b></div>
                                <div class="card-body">
                                    <p><b>Computer Type :</b> {{item.computer_type}} </p>
                                    <p><b>Description :</b></br><textarea rows="4" cols="43" name="Description" readonly>{{item.description}}</textarea>
                                </div>
                                <div class="card-footer">
                                    <a href='{{url_for('ItemJSON', category_id=Category.id, item_id=item.id)}}'  class="card-link">Get Item as JSON</a> 
                                    {% if IsCreator %}
                                        <a href='{{url_for('editItem', category_id=Category.id, item_id=item.id)}}'  class="card-link">Edit</a> 
                                        <a href='{{url_for('deleteItem', category_id=Category.id, item_id= item.id)}}'  class="card-link">Delete</a>
                                    {% endif %}                                    
                                </div>  
                            </div>
                            </br>
                        {% endif %}
                    {% endfor %}

                </div>
            </div>
        </div>
    </body>
</html>


